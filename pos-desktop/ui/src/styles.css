@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Space+Grotesk:wght@600;700&display=swap');

:root {
  --font-display: 'Space Grotesk', 'Trebuchet MS', sans-serif;
  --font-body: 'Manrope', 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'SFMono-Regular', Consolas, monospace;

  --bg: #f4f7ff;
  --bg-subtle: #eff3ff;
  --surface: #ffffff;
  --surface-soft: #f9fbff;
  --surface-border: #ced7eb;
  --text: #111d3a;
  --muted: #5f6f90;

  --accent: #5b63ff;
  --accent-2: #1fb5ff;
  --accent-grad: linear-gradient(130deg, #4b55ff, #1fb5ff);
  --warn: #d37a18;
  --danger: #cf3f56;
  --ok: #1b8e63;

  --status-info-bg: rgba(92, 116, 255, 0.12);
  --status-info-line: rgba(92, 116, 255, 0.35);
  --status-ok-bg: rgba(27, 142, 99, 0.12);
  --status-ok-line: rgba(27, 142, 99, 0.35);
  --status-warn-bg: rgba(211, 122, 24, 0.12);
  --status-warn-line: rgba(211, 122, 24, 0.35);
  --status-error-bg: rgba(207, 63, 86, 0.12);
  --status-error-line: rgba(207, 63, 86, 0.35);

  --edge-ok-bg: rgba(27, 142, 99, 0.14);
  --edge-ok-line: rgba(27, 142, 99, 0.34);
  --edge-off-bg: rgba(207, 63, 86, 0.14);
  --edge-off-line: rgba(207, 63, 86, 0.34);
  --edge-unknown-bg: rgba(95, 111, 144, 0.1);
  --edge-unknown-line: rgba(95, 111, 144, 0.3);

  --radius-lg: 18px;
  --radius-md: 12px;
  --radius-sm: 9px;
  --shadow-md: 0 12px 26px rgba(15, 23, 52, 0.12);
  --shadow-lg: 0 20px 55px rgba(15, 23, 52, 0.15);

  --top-offset: 54px;
}

:root[data-theme='dark'] {
  --bg: #0a1020;
  --bg-subtle: #0f1a30;
  --surface: #111a2f;
  --surface-soft: #15203b;
  --surface-border: #2c3d64;
  --text: #eef3ff;
  --muted: #9ca9ca;

  --status-info-bg: rgba(102, 156, 255, 0.18);
  --status-info-line: rgba(102, 156, 255, 0.44);
  --status-ok-bg: rgba(50, 191, 132, 0.18);
  --status-ok-line: rgba(50, 191, 132, 0.42);
  --status-warn-bg: rgba(233, 170, 81, 0.18);
  --status-warn-line: rgba(233, 170, 81, 0.42);
  --status-error-bg: rgba(255, 118, 138, 0.19);
  --status-error-line: rgba(255, 118, 138, 0.42);

  --edge-ok-bg: rgba(50, 191, 132, 0.22);
  --edge-ok-line: rgba(50, 191, 132, 0.42);
  --edge-off-bg: rgba(255, 118, 138, 0.22);
  --edge-off-line: rgba(255, 118, 138, 0.42);
  --edge-unknown-bg: rgba(159, 180, 212, 0.12);
  --edge-unknown-line: rgba(159, 180, 212, 0.32);

  --shadow-lg: 0 16px 40px rgba(3, 8, 25, 0.6);
}

* { box-sizing: border-box; }

html,
body {
  margin: 0;
  min-height: 100%;
  font-family: var(--font-body);
  color: var(--text);
}

body {
  background:
    radial-gradient(64rem 34rem at 3% -12%, rgba(89, 116, 255, 0.15), transparent 57%),
    radial-gradient(64rem 32rem at 105% -8%, rgba(31, 212, 186, 0.15), transparent 55%),
    linear-gradient(145deg, var(--bg), var(--bg-subtle));
}

.srOnly {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.hidden {
  display: none !important;
}

.shell {
  min-height: 100vh;
  width: min(1320px, calc(100vw - 16px));
  margin: 0 auto;
  padding: 8px 8px 12px;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.surfaceGlow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(40rem 18rem at 2% 0%, rgba(97, 142, 255, 0.13), transparent 58%),
    radial-gradient(34rem 15rem at 98% 6%, rgba(27, 255, 209, 0.1), transparent 55%);
}

.top {
  position: sticky;
  top: 0;
  z-index: 9;
  display: grid;
  grid-template-columns: minmax(260px, 1.2fr) 1fr auto;
  gap: 8px;
  padding: 10px;
  border: 1px solid var(--surface-border);
  border-radius: var(--radius-lg);
  background: linear-gradient(155deg, var(--surface), var(--surface-soft));
  box-shadow: var(--shadow-md);
}

.brandBlock {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.brandBadge {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  font-family: var(--font-display);
  font-weight: 800;
  letter-spacing: 0.03em;
  background: var(--accent-grad);
  color: #f8fcff;
}

.brandTitle {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 18px;
  line-height: 1.1;
}

.brandSub {
  color: var(--muted);
  font-size: 11px;
  margin-top: 2px;
}

.topControls {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
  align-items: center;
}

.edgeBadges {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 6px;
  align-items: center;
}

.edgeBadge {
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid transparent;
  font-size: 11px;
  font-family: var(--font-mono);
  white-space: nowrap;
}

.edgeBadge.edgeOk {
  color: #0f7f56;
  border-color: var(--edge-ok-line);
  background: var(--edge-ok-bg);
}

.edgeBadge.edgeOffline {
  color: #a82f3f;
  border-color: var(--edge-off-line);
  background: var(--edge-off-bg);
}

.edgeBadge.edgeUnknown {
  color: var(--muted);
  border-color: var(--edge-unknown-line);
  background: var(--edge-unknown-bg);
}

.btn,
input,
select,
textarea {
  font: inherit;
}

.btn {
  border: 1px solid var(--surface-border);
  background: var(--surface-soft);
  color: var(--text);
  border-radius: 999px;
  padding: 8px 12px;
  min-height: 34px;
  font-weight: 650;
  cursor: pointer;
  transition: transform 0.08s ease, border-color 0.2s ease, background-color 0.2s ease;
}

.btn:hover {
  border-color: color-mix(in srgb, var(--accent) 72%, var(--surface-border));
  background: color-mix(in srgb, var(--accent-soft, rgba(91, 99, 255, 0.14)) 18%, var(--surface-soft));
}

.btn:active { transform: translateY(1px); }

.btn.isBusy { cursor: wait; }

.btn.ghost { background: transparent; }

.btn.primary {
  background: var(--accent-grad);
  border-color: transparent;
  color: #f6fbff;
}

.btn.tiny { min-height: 28px; padding-block: 6px; }

.pill {
  border: 1px solid var(--surface-border);
  border-radius: 999px;
  padding: 7px 11px;
  min-height: 34px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--muted);
  background: var(--surface-soft);
  font-size: 12px;
}

.pill input,
.pill select,
.checkInline input,
.cfgField input,
.cfgField select,
.custCreateGrid input,
#scan,
#customerQuery,
#customerId,
.payArea select,
#quickApiBaseUrl,
#quickEmail,
#quickPassword,
#quickMfaCode,
#quickDeviceCode,
#officialApiBaseUrl,
#officialCompanyId,
#officialBranchId,
#officialDeviceCode,
#officialDeviceId,
#officialDeviceToken,
#officialShiftId,
#unofficialApiBaseUrl,
#unofficialCompanyId,
#unofficialBranchId,
#unofficialDeviceCode,
#unofficialDeviceId,
#unofficialDeviceToken,
#unofficialShiftId,
#adminUrl,
#managerPin,
#managerPinNew,
#managerPinNew2 {
  border: 1px solid var(--surface-border);
  background: transparent;
  border-radius: 10px;
  color: var(--text);
  padding: 7px 10px;
}

#scan,
#customerQuery,
#customerId,
.resultRow,
.cartItem,
.custRow,
.orderQueue {
  width: 100%;
}

.statusStrip {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: var(--radius-md);
  border: 1px solid var(--surface-border);
  background: color-mix(in srgb, var(--surface), var(--surface-soft) 72%);
}

.leftFacts { display: flex; flex-wrap: wrap; align-items: center; gap: 8px; min-width: 0; }

.statusPill,
.factPill {
  display: inline-flex;
  align-items: center;
  min-height: 28px;
  border-radius: 999px;
  border: 1px solid var(--surface-border);
  padding: 0 10px;
  font-size: 12px;
}

.statusPill { font-weight: 650; }
.statusPill.info { background: var(--status-info-bg); border-color: var(--status-info-line); }
.statusPill.ok { background: var(--status-ok-bg); border-color: var(--status-ok-line); }
.statusPill.warn { background: var(--status-warn-bg); border-color: var(--status-warn-line); }
.statusPill.error { background: var(--status-error-bg); border-color: var(--status-error-line); }

.factPill { color: var(--muted); background: var(--surface); }
.rightHints { display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; color: var(--muted); font-size: 11px; }
.kbd { background: var(--surface); border: 1px solid var(--surface-border); border-radius: 999px; padding: 2px 8px; }

.layout {
  display: grid;
  grid-template-columns: 300px minmax(320px, 1.35fr) minmax(300px, 1fr);
  gap: 10px;
  align-items: stretch;
}

.panel {
  border-radius: var(--radius-lg);
  border: 1px solid var(--surface-border);
  background: color-mix(in srgb, var(--surface), var(--surface-soft));
  box-shadow: var(--shadow-md);
  padding: 10px;
  min-height: calc(100vh - 238px);
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow: hidden;
}

.panelLeft, .panelCenter { padding-top: 10px; }

.panelHead,
.panelTitleWrap { display: flex; justify-content: space-between; align-items: center; gap: 8px; }

.panelTitleWrap h2,
.panelHead h2,
.panel h2 {
  font-size: 14px;
  margin: 0;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.sectionTitle { font-size: 12px; color: var(--muted); font-weight: 600; text-transform: uppercase; }

.inlineActions, .miniActions { display: flex; flex-wrap: wrap; gap: 6px; }
.orderQueue { flex: 1; overflow: auto; border: 1px dashed var(--surface-border); border-radius: var(--radius-md); padding: 8px; background: var(--surface); }

.scanRow {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 6px;
}

.chipRow { display: flex; flex-wrap: wrap; gap: 6px; }
.chip { border: 1px solid var(--surface-border); background: var(--surface-soft); border-radius: 999px; color: var(--text); padding: 4px 10px; font-size: 12px; }
.chip.active { background: var(--accent); color: #fff; border-color: color-mix(in srgb, var(--accent) 86%, transparent); }

.scanMeta { color: var(--muted); font-size: 12px; min-height: 20px; }
.hint { color: var(--muted); font-size: 11px; }
.results { flex: 1; overflow: auto; border: 1px solid var(--surface-border); border-radius: var(--radius-md); background: var(--surface); padding: 6px; display: flex; flex-direction: column; gap: 6px; }
.resultRow {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  padding: 7px;
  border-radius: 10px;
  border: 1px solid var(--surface-border);
  background: var(--surface-soft);
}
.resultRow.active {
  border-color: color-mix(in srgb, var(--accent) 66%, var(--surface-border));
  background: color-mix(in srgb, var(--accent) 7%, var(--surface-soft));
}
.resultRow .meta .name { font-weight: 600; font-size: 13px; }
.sub, .small, .mono { font-family: var(--font-mono); font-size: 11px; color: var(--muted); }
.tag {
  font-size: 10px;
  font-weight: 700;
  border-radius: 999px;
  padding: 3px 8px;
  color: #0d1f3f;
  background: rgba(91, 99, 255, 0.16);
  width: fit-content;
}
.tag.official { background: rgba(26, 156, 255, 0.2); }
.tag.unofficial { background: rgba(27, 142, 99, 0.18); }

.cart {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--surface-border);
  border-radius: var(--radius-md);
  background: var(--surface);
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.cartItem {
  border: 1px solid var(--surface-border);
  border-radius: 10px;
  padding: 8px;
  display: grid;
  grid-template-columns: 1fr auto auto auto;
  gap: 8px;
  align-items: center;
}
.cartItem .title {
  font-size: 13px;
  font-weight: 600;
}
.qty { display: inline-flex; align-items: center; gap: 4px; }
.qty .n { min-width: 16px; text-align: center; font-family: var(--font-mono); color: var(--text); }
.qty button { width: 28px; height: 24px; padding: 0; border-radius: 8px; }
.remove {
  font-size: 10px;
  border: 1px solid color-mix(in srgb, var(--danger) 56%, transparent);
  color: var(--danger);
  padding: 4px 8px;
  border-radius: 9px;
  cursor: pointer;
}

.totals { padding: 8px 4px 0; border-top: 1px dashed var(--surface-border); }
.totals .row { display: flex; justify-content: space-between; margin: 4px 0; font-size: 12px; }
.totals .row.total { font-size: 14px; font-weight: 700; }
.splitTotals { margin-top: 4px; border-top: 1px dashed var(--surface-border); padding-top: 6px; }
.splitTotals .row { font-size: 11px; }
.payArea { border-top: 1px dashed var(--surface-border); padding-top: 8px; }
.paymentLabel { width: 100%; display: flex; justify-content: space-between; }

.payActions,
.custCreateActions,
.modalActions,
.row {
  margin-top: 8px;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.custCreateGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}

.custResults { margin-top: 6px; max-height: 130px; overflow: auto; display: flex; flex-direction: column; gap: 6px; }
.custRow {
  border: 1px solid var(--surface-border);
  border-radius: 9px;
  padding: 6px 8px;
  font-size: 12px;
  cursor: pointer;
}
.custRow.active { background: var(--status-ok-bg); border-color: var(--status-ok-line); }
.customerStatus { min-height: 14px; font-size: 11px; color: var(--muted); }

.footer {
  color: var(--muted);
  font-size: 11px;
  text-align: center;
}

.backdrop {
  position: fixed;
  inset: 0;
  background: color-mix(in srgb, #020714 50%, transparent);
  backdrop-filter: blur(2px);
  z-index: 14;
}

.modal {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(900px, calc(100vw - 18px));
  max-height: 85vh;
  overflow: auto;
  background: var(--surface);
  border: 1px solid var(--surface-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  z-index: 15;
  padding: 10px;
}

.modalHeader h3 {
  margin: 0;
  font-size: 16px;
}

.modalBody { margin-top: 8px; display: grid; gap: 8px; }
.modalStatus {
  padding: 6px;
  font-size: 12px;
  color: var(--muted);
  min-height: 20px;
}

.quickGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.quickGridSecond { margin-top: 6px; }
.quickCheckField {
  display: block;
}
.checkInline { display: flex; align-items: center; gap: 6px; }

.twoCols {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.cfgCard,
.quickCard {
  border: 1px solid var(--surface-border);
  border-radius: 10px;
  padding: 8px;
  background: var(--surface-soft);
}
.cfgCard h4,
.quickCard h4 { margin: 0 0 6px; font-size: 13px; }
.cfgField {
  display: grid;
  gap: 4px;
  margin-bottom: 6px;
  font-size: 12px;
  color: var(--muted);
}

.cartFull { max-height: 56vh; }

.queueItem {
  display: flex;
  justify-content: space-between;
  gap: 6px;
  border: 1px solid var(--surface-border);
  border-radius: 10px;
  margin-bottom: 6px;
  padding: 6px 8px;
}
.queueMeta { font-size: 11px; color: var(--muted); }
.queueEmpty { color: var(--muted); font-size: 12px; padding: 4px 0; }
.queueDone { opacity: 0.6; }
.queueActions { display: flex; gap: 6px; align-items: center; }

@media (max-width: 1200px) {
  .layout {
    grid-template-columns: 1fr 1fr;
    grid-template-areas: "left center" "right right";
  }

  .panelLeft { grid-area: left; }
  .panelCenter { grid-area: center; }
  .panelRight { grid-area: right; }
}

@media (max-width: 860px) {
  .top {
    grid-template-columns: 1fr;
    justify-items: stretch;
  }

  .layout {
    grid-template-columns: 1fr;
    grid-template-areas: none;
  }

  .shell {
    width: calc(100vw - 12px);
    padding: 8px 4px 10px;
  }

  .leftFacts,
  .rightHints {
    width: 100%;
    justify-content: flex-start;
  }

  .quickGrid,
  .twoCols,
  .custCreateGrid { grid-template-columns: 1fr; }
}
