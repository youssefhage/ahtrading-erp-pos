@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap');

:root {
  --font-display: "Manrope", "Avenir Next", "Trebuchet MS", sans-serif;
  --font-body: var(--font-display);
  --font-mono: "JetBrains Mono", "SF Mono", Consolas, Menlo, monospace;

  --radius-xl: 20px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --radius-sm: 10px;

  --bg: #eef3fb;
  --bg-subtle: #dde8f7;
  --surface: #ffffff;
  --surface-2: #f6f9ff;
  --surface-3: #f0f6ff;
  --surface-soft: #ecf3ff;
  --surface-soft-strong: #e9f0fb;
  --text: #10253d;
  --muted: #5d6b7e;

  --line: #d6e2f0;
  --line-strong: #b6c7dd;
  --line-soft: #edf4ff;

  --accent: #1ea48f;
  --accent-strong: #15816e;
  --accent-soft: rgba(30, 164, 143, 0.16);
  --accent-line-soft: rgba(30, 164, 143, 0.42);
  --accent-line-strong: rgba(30, 164, 143, 0.52);
  --accent-bg-soft: rgba(30, 164, 143, 0.12);
  --accent-bg-strong: rgba(30, 164, 143, 0.2);
  --accent-ring-soft: rgba(30, 164, 143, 0.26);

  --warn: #c77d1f;
  --warn-line: #f2c47a;
  --warn-bg: #fff0d9;

  --danger: #cc4f67;
  --danger-bg: rgba(204, 79, 103, 0.11);
  --danger-line: rgba(204, 79, 103, 0.35);

  --ok: #1f9f62;
  --ok-bg: rgba(31, 159, 98, 0.16);
  --ok-line: rgba(31, 159, 98, 0.38);

  --info: #3f71c8;
  --info-bg: rgba(63, 113, 200, 0.14);
  --info-line: rgba(63, 113, 200, 0.38);

  --shadow-soft: 0 10px 28px rgba(12, 32, 66, 0.09);
  --shadow-card: 0 14px 34px rgba(10, 38, 76, 0.12);
  --shadow-lg: 0 26px 64px rgba(12, 35, 68, 0.2);
  --shadow-focus: 0 0 0 0.2rem var(--accent-ring-soft);

  --surface-glass-top: rgba(255, 255, 255, 0.8);
  --surface-glass-soft: rgba(255, 255, 255, 0.75);
  --backdrop-tint: rgba(9, 20, 37, 0.62);
  --panel-start: #fff;
  --panel-end: #f5f9ff;

  --mode-pill-line: #98ddce;

  --status-info-bg: var(--info-bg);
  --status-info-fg: #23457b;
  --status-info-line: var(--info-line);
  --status-ok-bg: var(--ok-bg);
  --status-ok-fg: #166d47;
  --status-ok-line: var(--ok-line);
  --status-warn-bg: var(--warn-bg);
  --status-warn-fg: #7b4a10;
  --status-warn-line: var(--warn-line);
  --status-error-bg: var(--danger-bg);
  --status-error-fg: #8a2738;
  --status-error-line: var(--danger-line);

  --edge-ok-bg: #e6f8ef;
  --edge-ok-line: #abdfc0;
  --edge-ok-fg: #1a6b49;
  --edge-off-bg: #ffe9ee;
  --edge-off-line: #f5aebc;
  --edge-off-fg: #923042;
  --edge-unknown-bg: #f3f7fd;
  --edge-unknown-line: #ccd9eb;
  --edge-unknown-fg: #4b617d;

  --quick-card-line: rgba(30, 164, 143, 0.35);
  --quick-card-bg: rgba(30, 164, 143, 0.09);

  --tag-off-line: #8acebf;
  --tag-off-text: #0e6857;
  --tag-unoff-line: #e5bc84;
  --tag-unoff-text: #915d13;

  --kb-bg: #edf3fc;
  --kb-text: #4c627e;
}

:root[data-theme="dark"] {
  --bg: #0a1424;
  --bg-subtle: #111d31;
  --surface: #0f1b2e;
  --surface-2: #13243d;
  --surface-3: #162a47;
  --surface-soft: rgba(255, 255, 255, 0.04);
  --surface-soft-strong: rgba(255, 255, 255, 0.05);

  --text: #ebf1ff;
  --muted: #9fb0c8;

  --line: #233855;
  --line-strong: #365273;
  --line-soft: #233855;

  --accent: #45d4b5;
  --accent-strong: #3abf9f;
  --accent-soft: rgba(69, 212, 181, 0.18);
  --accent-line-soft: rgba(69, 212, 181, 0.44);
  --accent-line-strong: rgba(69, 212, 181, 0.58);
  --accent-bg-soft: rgba(69, 212, 181, 0.11);
  --accent-bg-strong: rgba(69, 212, 181, 0.17);
  --accent-ring-soft: rgba(69, 212, 181, 0.35);

  --warn: #e6b05f;
  --warn-bg: rgba(230, 176, 95, 0.15);
  --warn-line: rgba(230, 176, 95, 0.44);
  --danger: #ee6878;
  --danger-bg: rgba(238, 104, 120, 0.18);
  --danger-line: rgba(238, 104, 120, 0.38);
  --ok: #57d58f;
  --ok-bg: rgba(87, 213, 143, 0.16);
  --ok-line: rgba(87, 213, 143, 0.38);
  --info: #79a9ff;
  --info-bg: rgba(121, 169, 255, 0.18);
  --info-line: rgba(121, 169, 255, 0.42);

  --shadow-soft: 0 10px 28px rgba(0, 0, 0, 0.38);
  --shadow-card: 0 14px 34px rgba(0, 0, 0, 0.45);
  --shadow-lg: 0 30px 72px rgba(0, 0, 0, 0.45);

  --surface-glass-top: rgba(12, 23, 40, 0.86);
  --surface-glass-soft: rgba(11, 22, 38, 0.76);
  --backdrop-tint: rgba(4, 9, 18, 0.64);
  --panel-start: rgba(19, 32, 52, 0.97);
  --panel-end: rgba(15, 25, 42, 0.95);

  --mode-pill-line: rgba(69, 212, 181, 0.45);

  --status-info-bg: var(--info-bg);
  --status-info-fg: #d6e6ff;
  --status-info-line: var(--info-line);
  --status-ok-bg: var(--ok-bg);
  --status-ok-fg: #d5f7e2;
  --status-ok-line: var(--ok-line);
  --status-warn-bg: var(--warn-bg);
  --status-warn-fg: #ffdba9;
  --status-warn-line: var(--warn-line);
  --status-error-bg: var(--danger-bg);
  --status-error-fg: #ffd3dd;
  --status-error-line: var(--danger-line);

  --edge-ok-bg: rgba(87, 213, 143, 0.18);
  --edge-ok-line: rgba(87, 213, 143, 0.46);
  --edge-ok-fg: #d8f3e6;
  --edge-off-bg: rgba(238, 104, 120, 0.18);
  --edge-off-line: rgba(238, 104, 120, 0.4);
  --edge-off-fg: #ffdae1;
  --edge-unknown-bg: rgba(255, 255, 255, 0.08);
  --edge-unknown-line: rgba(255, 255, 255, 0.18);
  --edge-unknown-fg: #d5deec;

  --quick-card-line: rgba(69, 212, 181, 0.42);
  --quick-card-bg: rgba(69, 212, 181, 0.1);

  --tag-off-line: rgba(69, 212, 181, 0.44);
  --tag-off-text: #cff5ea;
  --tag-unoff-line: rgba(230, 176, 95, 0.42);
  --tag-unoff-text: #ffe2b0;

  --kb-bg: rgba(255, 255, 255, 0.08);
  --kb-text: #d8e5ff;
}

* {
  box-sizing: border-box;
}

::selection,
::-moz-selection {
  background: var(--accent-soft);
  color: var(--text);
}

html,
body {
  min-height: 100%;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-body);
  color: var(--text);
  background:
    radial-gradient(90rem 38rem at 12% -20%, rgba(70, 160, 255, 0.2), transparent 52%),
    radial-gradient(70rem 24rem at 90% -12%, rgba(35, 206, 174, 0.22), transparent 50%),
    linear-gradient(145deg, var(--bg), var(--bg-subtle));
  overflow: hidden;
  position: relative;
}

.pageShell {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
}

.pageGlow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(42rem 20rem at 8% 0%, rgba(102, 163, 255, 0.2), transparent 58%),
    radial-gradient(34rem 16rem at 94% 6%, rgba(35, 206, 174, 0.17), transparent 62%),
    repeating-linear-gradient(
      130deg,
      rgba(255, 255, 255, 0.022) 0,
      rgba(255, 255, 255, 0.022) 1px,
      transparent 1px,
      transparent 15px
    );
  z-index: 0;
}

:root[data-density='xs'] {
  --density-font-scale: 0.94;
}

:root[data-density='sm'] {
  --density-font-scale: 0.98;
}

:root[data-density='md'] {
  --density-font-scale: 1;
}

h1,
h2,
h3,
h4,
p {
  margin: 0;
}

.top,
.opsBar,
.panel,
.pill,
.btn,
.statusPill,
.factPill,
.modalStatus,
.quickStatus,
.modalHeader h3,
.customerResults {
  font-size: calc(12px * var(--density-font-scale, 1));
}

.brand .title {
  font-size: calc(20px * var(--density-font-scale, 1));
}

.muted {
  color: var(--muted);
}

.mono {
  font-family: var(--font-mono);
  font-size: 12px;
}

.hidden {
  display: none !important;
}

.top {
  position: sticky;
  top: 0;
  z-index: 30;
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: var(--radius-xl);
  background: linear-gradient(160deg, var(--surface-glass-top), rgba(255, 255, 255, 0.62));
  backdrop-filter: blur(14px);
  box-shadow: var(--shadow-soft);
}

.brand {
  min-width: 0;
}

.titleRow {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.brand .title {
  font-weight: 760;
  letter-spacing: 0.01em;
  color: var(--text);
  line-height: 1.1;
}

.modePill {
  align-items: center;
  display: inline-flex;
  padding: 5px 10px;
  border-radius: 999px;
  border: 1px solid var(--mode-pill-line);
  background: var(--accent-soft);
  color: var(--accent-strong);
  font-size: 11px;
  letter-spacing: 0.11em;
  text-transform: uppercase;
  font-weight: 780;
}

.brand .subtitle {
  margin-top: 6px;
  color: var(--muted);
  font-size: 11px;
  line-height: 1.35;
}

.controls {
  width: min(72%, 100%);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(124px, max-content));
  justify-content: end;
  align-content: start;
  gap: 8px;
}

.controls .btn,
.controls .pill {
  height: 38px;
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 8px 11px;
  background: var(--surface-2);
  color: var(--muted);
}

.pill input,
.pill select,
.pill select option,
.custCreateGrid input,
.cfgField input,
.cfgField select,
.scanRow input,
.customer-query,
.custLookup input,
input,
select {
  font: inherit;
  color: var(--text);
}

.pill input,
.pill select,
.scanRow input,
.custLookup input,
.custCreateGrid input,
.cfgField input,
.cfgField select,
.customer-query {
  min-width: 0;
  width: 100%;
  border: 0;
  background: transparent;
  outline: none;
}

.pill select {
  min-width: 176px;
}

.btn {
  border: 1px solid var(--line);
  border-radius: 999px;
  background: var(--surface-2);
  color: var(--text);
  padding: 8px 13px;
  cursor: pointer;
  font-weight: 700;
  transition:
    transform 0.14s ease,
    border-color 0.14s ease,
    background-color 0.14s ease,
    box-shadow 0.14s ease;
}

.btn:hover {
  border-color: var(--line-strong);
  background: var(--surface-3);
  box-shadow: var(--shadow-soft);
}

.btn:active {
  transform: translateY(1px);
}

.btn:focus-visible {
  outline: 0;
  box-shadow: var(--shadow-focus);
}

.btn.isBusy {
  cursor: wait;
}

.btn.primary {
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
  border-color: var(--accent-line-strong);
  color: #f5fffb;
}

.btn.primary:hover {
  background: linear-gradient(135deg, #16a58d 0%, #0f846f 100%);
}

.btn.ghost {
  background: transparent;
}

.btn.ghost:hover {
  background: var(--accent-bg-soft);
}

.btn.tiny {
  padding: 6px 10px;
  border-radius: 999px;
}

.grid {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1.08fr 1fr;
  gap: 10px;
  padding: 4px 0 12px;
  flex: 1;
  min-height: 0;
}

.panel {
  border: 1px solid var(--line);
  border-radius: var(--radius-xl);
  background: linear-gradient(170deg, var(--panel-start), var(--panel-end));
  box-shadow: var(--shadow-card);
  padding: 11px;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.panelHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.panelHeadActions,
.cartMeta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.panelTitle {
  font-size: 13px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 780;
  color: var(--muted);
}

.scanRow {
  display: flex;
  align-items: stretch;
  gap: 10px;
}

.scanRow input,
.custLookup input,
#customerCreateName,
#customerCreatePhone,
#customerCreateEmail,
.cfgField input,
.cfgField select {
  width: 100%;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--surface);
  padding: 11px 12px;
  font-size: 15px;
  outline: none;
}

.scanRow input {
  border-radius: 14px;
}

.scanRow #addBtn {
  min-width: 92px;
  min-height: 44px;
  font-size: 14px;
  letter-spacing: 0.01em;
}

.scanRow #addBtn,
#customerSearchBtn,
#customerCreateBtn,
#customerCreateCancelBtn,
#customerCreateToggleBtn,
#receiptBtn {
  white-space: nowrap;
}

.scanMeta {
  margin-top: 8px;
  color: var(--muted);
  min-height: 19px;
  font-size: 12px;
}

.hint {
  margin-top: 8px;
  color: var(--muted);
  line-height: 1.35;
  font-size: 12px;
}

.results {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow: auto;
  padding-right: 2px;
}

.resultRow {
  position: relative;
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  gap: 10px;
  border: 1px solid var(--line);
  border-radius: 14px;
  background: linear-gradient(160deg, var(--surface), var(--surface-2));
  padding: 10px;
  cursor: pointer;
  animation: fadeUp 0.24s ease;
}

.resultRow:hover {
  border-color: var(--line-strong);
  transform: translateY(-1px);
}

.resultRow.active {
  border-color: var(--accent-line-strong);
  box-shadow: 0 0 0 3px var(--accent-ring-soft);
}

.resultRow .meta {
  min-width: 0;
}

.resultRow .name {
  font-weight: 760;
  letter-spacing: 0.01em;
  font-size: 13px;
}

.resultRow .sub {
  margin-top: 3px;
  font-size: 11px;
  color: var(--muted);
}

.resultRight {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  gap: 8px;
  min-width: 120px;
}

.resultRight .btn {
  min-width: 84px;
  min-height: 36px;
  padding: 6px 10px;
}

.tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid;
  border-radius: 999px;
  padding: 5px 10px;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: 720;
}

.tag.official {
  border-color: var(--tag-off-line);
  color: var(--tag-off-text);
  background: var(--accent-bg-soft);
}

.tag.unofficial {
  border-color: var(--tag-unoff-line);
  color: var(--tag-unoff-text);
  background: rgba(228, 177, 95, 0.11);
}

.cart {
  display: flex;
  flex-direction: column;
  gap: 8px;
  border: 1px dashed var(--line);
  border-radius: var(--radius-lg);
  padding: 10px;
  background: var(--surface-soft);
  overflow: auto;
  min-height: 0;
}

.cartItem {
  display: grid;
  grid-template-columns: 1fr auto auto auto;
  gap: 8px;
  align-items: center;
  border: 1px solid var(--line);
  border-radius: 14px;
  background: var(--surface);
  padding: 8px;
  animation: fadeUp 0.24s ease;
}

.cartItem .title {
  font-weight: 760;
  line-height: 1.2;
}

.cartItem .small {
  margin-top: 2px;
  color: var(--muted);
  font-size: 11px;
}

.qty {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.qty button {
  width: 30px;
  height: 30px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: var(--surface-2);
  font-size: 14px;
  font-weight: 760;
}

.qty .n {
  width: 29px;
  text-align: center;
  font-family: var(--font-mono);
  padding-left: 2px;
}

.remove {
  color: var(--danger);
  cursor: pointer;
  font-family: var(--font-mono);
  font-size: 11px;
  padding: 5px 9px;
  border: 1px solid transparent;
  border-radius: 8px;
  transition: background-color 0.14s ease, border-color 0.14s ease;
  min-width: 48px;
  text-align: center;
}

.remove:hover {
  background: var(--danger-bg);
  border-color: var(--danger-line);
  color: var(--danger);
}

.totals {
  margin-top: 10px;
  border-top: 1px solid var(--line);
  padding-top: 10px;
  display: grid;
  gap: 2px;
}

.totals .row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: 4px 0;
}

.totals .row span {
  color: var(--muted);
}

.totals .row strong {
  font-family: var(--font-mono);
  color: var(--text);
}

.totals .row.split {
  font-size: 11px;
}

.splitTotals {
  margin-top: 6px;
  border-top: 1px dashed var(--line-soft);
  padding-top: 6px;
  display: grid;
  gap: 2px;
}

.pay {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 8px;
  align-items: end;
  margin-top: 10px;
}

.cust {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

#payment {
  height: 40px;
  font-weight: 760;
}

#payBtn {
  min-height: 52px;
  font-size: 16px;
  letter-spacing: 0.01em;
  text-transform: none;
}

#receiptBtn {
  min-height: 44px;
}

.custLookup {
  display: flex;
  align-items: center;
  gap: 8px;
}

.custLookup input {
  min-height: 40px;
}

.custCreate {
  display: grid;
  gap: 8px;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
  background: var(--surface-soft-strong);
}

.custCreateGrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.custCreateActions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.custCreateStatus {
  min-height: 16px;
  color: var(--muted);
  font-size: 12px;
}

.custResults {
  display: flex;
  flex-direction: column;
  gap: 6px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--surface-soft-strong);
  padding: 8px;
  max-height: 168px;
  overflow: auto;
}

.custResults:empty {
  display: none;
}

.custRow {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  border: 1px solid var(--line);
  border-radius: 11px;
  background: var(--surface);
  padding: 8px;
  cursor: pointer;
}

.custRow:hover {
  border-color: var(--line-strong);
}

.custRow.preselected {
  border-color: var(--accent-line-soft);
  background: var(--accent-bg-soft);
}

.custRow.active {
  border-color: var(--accent-line-strong);
  background: var(--accent-bg-strong);
  box-shadow: inset 0 0 0 1px var(--accent-ring-soft);
}

.custRow .id {
  color: var(--muted);
  font-size: 11px;
  font-family: var(--font-mono);
}

.custRow .name {
  font-weight: 680;
}

.opsBar {
  position: sticky;
  top: var(--top-offset, 58px);
  z-index: 22;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: linear-gradient(160deg, var(--surface-glass-soft), rgba(255, 255, 255, 0.42));
  border: 1px solid var(--line);
  border-radius: 14px;
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-soft);
}

.opsLeft,
.opsRight {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.statusPill,
.factPill {
  display: inline-flex;
  align-items: center;
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 6px 11px;
  font-size: 12px;
  font-weight: 700;
}

.statusPill.info {
  color: var(--status-info-fg);
  border-color: var(--status-info-line);
  background: var(--status-info-bg);
}

.statusPill.ok {
  color: var(--status-ok-fg);
  border-color: var(--status-ok-line);
  background: var(--status-ok-bg);
}

.statusPill.warn {
  color: var(--status-warn-fg);
  border-color: var(--status-warn-line);
  background: var(--status-warn-bg);
}

.statusPill.error {
  color: var(--status-error-fg);
  border-color: var(--status-error-line);
  background: var(--status-error-bg);
}

.factPill {
  color: var(--muted);
  background: var(--surface-2);
}

.kbdHint {
  font-size: 11px;
  color: var(--muted);
  display: inline-flex;
  align-items: center;
  gap: 5px;
}

kbd {
  border: 1px solid var(--line);
  border-bottom-color: rgba(20, 37, 60, 0.45);
  background: var(--kb-bg);
  border-radius: 7px;
  color: var(--kb-text);
  padding: 1px 6px;
  font-size: 10px;
  font-weight: 700;
}

.edgeBadges {
  display: flex;
  align-items: center;
  gap: 7px;
}

.edgeBadge {
  border: 1px solid;
  border-radius: 999px;
  padding: 6px 9px;
  font-size: 11px;
  font-weight: 760;
  letter-spacing: 0.01em;
  color: var(--edge-unknown-fg);
  user-select: none;
}

.edgeOk {
  color: var(--edge-ok-fg);
  border-color: var(--edge-ok-line);
  background: var(--edge-ok-bg);
}

.edgeOffline {
  color: var(--edge-off-fg);
  border-color: var(--edge-off-line);
  background: var(--edge-off-bg);
}

.edgeUnknown {
  color: var(--edge-unknown-fg);
  border-color: var(--edge-unknown-line);
  background: var(--edge-unknown-bg);
}

.check,
.checkInline {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--muted);
  font-size: 11px;
  line-height: 1.35;
}

.quickCheckField {
  gap: 8px;
}

.foot {
  display: none;
}

.backdrop {
  position: fixed;
  inset: 0;
  z-index: 70;
  background: var(--backdrop-tint);
  backdrop-filter: blur(4px);
  animation: fadeIn 0.22s ease;
}

.modal {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(1040px, calc(100vw - 22px));
  max-height: calc(100vh - 32px);
  overflow: auto;
  z-index: 80;
  border: 1px solid var(--line);
  border-radius: 18px;
  background: linear-gradient(170deg, var(--surface) 0%, var(--surface-2) 100%);
  box-shadow: var(--shadow-lg);
  animation: popIn 0.23s ease;
}

.modalHeader {
  padding: 14px 16px;
  border-bottom: 1px solid var(--line);
}

.modalHeader h3 {
  margin: 0;
  font-size: 16px;
}

.modalHeader p {
  margin-top: 5px;
  color: var(--muted);
  font-size: 12px;
}

.modalBody {
  padding: 12px 16px 16px;
  display: grid;
  gap: 12px;
}

.twoCols {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.quickCard {
  display: grid;
  gap: 9px;
  border: 1px solid var(--quick-card-line);
  border-radius: 14px;
  background: var(--quick-card-bg);
  padding: 12px;
}

.quickCard h4,
.cfgCard h4 {
  font-size: 14px;
}

.quickCard p {
  margin: 0;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.4;
}

.quickGrid,
.quickGridSecond {
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr));
  gap: 8px;
}

.quickGridSecond {
  grid-template-columns: repeat(5, minmax(0, 1fr));
}

.quickGrid .btn,
.quickGridSecond .btn,
.custCreateActions .btn,
.modalActions .btn {
  min-height: 40px;
}

.quickStatus,
.modalStatus {
  min-height: 18px;
  font-size: 12px;
  color: var(--muted);
}

.cfgCard {
  display: grid;
  gap: 10px;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 12px;
  background: var(--surface-soft-strong);
}

.cfgField {
  display: grid;
  gap: 6px;
  color: var(--muted);
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.modalStatus {
  padding: 0 16px 10px;
}

.modalActions {
  border-top: 1px solid var(--line);
  padding: 12px 16px 14px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

input:focus,
select:focus,
button:focus-visible {
  outline: none;
  box-shadow: var(--shadow-focus);
}

input::placeholder {
  color: color-mix(in oklab, var(--muted) 65%, transparent);
}

.row {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes popIn {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

:root[data-density='sm'] .top {
  padding: 9px;
}

:root[data-density='sm'] .opsBar {
  top: var(--top-offset, 50px);
  padding: 7px 10px;
}

:root[data-density='sm'] .grid {
  gap: 8px;
}

:root[data-density='sm'] .panel,
:root[data-density='sm'] .modal,
:root[data-density='sm'] .opsBar,
:root[data-density='sm'] .top {
  border-radius: 14px;
}

:root[data-density='sm'] .controls {
  width: 100%;
}

:root[data-density='xs'] .top {
  padding: 8px;
  border-radius: 14px;
}

:root[data-density='xs'] .opsBar {
  top: var(--top-offset, 44px);
  padding: 6px 8px;
}

:root[data-density='xs'] .grid {
  gap: 6px;
}

:root[data-density='xs'] .panel {
  padding: 9px;
  border-radius: 12px;
}

:root[data-density='xs'] .panelHead {
  margin-bottom: 2px;
}

:root[data-density='xs'] .scanMeta,
:root[data-density='xs'] .hint,
:root[data-density='xs'] .kbdHint {
  font-size: 10px;
}

:root[data-density='xs'] .btn {
  min-height: 32px;
  padding: 6px 10px;
}

:root[data-density='xs'] .scanRow input,
:root[data-density='xs'] .custLookup input,
:root[data-density='xs'] .pill input,
:root[data-density='xs'] .pill select,
:root[data-density='xs'] #customerCreateName,
:root[data-density='xs'] #customerCreatePhone,
:root[data-density='xs'] #customerCreateEmail,
:root[data-density='xs'] .cfgField input,
:root[data-density='xs'] .cfgField select {
  padding: 7px 10px;
}

:root[data-density='xs'] .pill {
  padding: 7px 8px;
}

@media (max-width: 1160px) {
  .grid {
    grid-template-columns: 1fr;
  }

  .pay {
    grid-template-columns: 1fr;
  }

  .opsRight {
    display: none;
  }
}

@media (max-width: 980px) {
  .top {
    position: static;
    border-radius: 14px;
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .opsBar {
    position: static;
    border-radius: 14px;
  }

  .controls {
    width: 100%;
    justify-content: start;
    grid-template-columns: 1fr;
  }

  .quickGrid,
  .quickGridSecond,
  .twoCols,
  .custCreateGrid {
    grid-template-columns: 1fr;
  }

  .scanRow,
  .custLookup {
    flex-direction: column;
    align-items: stretch;
  }

  .scanRow #addBtn {
    width: 100%;
  }

  .pay {
    grid-template-columns: 1fr;
  }

  .brand .title {
    font-size: 18px;
  }

  .controls {
    gap: 7px;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }

  .controls .btn,
  .controls .pill {
    height: 40px;
  }

  .resultRow {
    padding: 12px;
  }

  .resultRight {
    gap: 10px;
  }

  .resultRight .btn {
    min-width: 96px;
    min-height: 38px;
  }

  .panelHeadActions .btn,
  .cartMeta .btn {
    min-height: 34px;
  }
}

@media (max-width: 680px) {
  .top {
    padding: 10px;
  }

  .panel {
    padding: 9px;
  }

  .scanRow #addBtn {
    min-height: 50px;
    font-size: 16px;
  }

  #scan,
  #customerQuery,
  #customerId,
  #customerCreateName,
  #customerCreatePhone,
  #customerCreateEmail,
  #quickApiBaseUrl,
  #quickEmail,
  #quickPassword,
  #quickMfaCode,
  #quickDeviceCode,
  #officialApiBaseUrl,
  #officialCompanyId,
  #officialBranchId,
  #officialDeviceCode,
  #officialDeviceId,
  #officialDeviceToken,
  #officialShiftId,
  #unofficialApiBaseUrl,
  #unofficialCompanyId,
  #unofficialBranchId,
  #unofficialDeviceCode,
  #unofficialDeviceId,
  #unofficialDeviceToken,
  #unofficialShiftId,
  #adminUrl,
  #managerPin,
  #managerPinNew,
  #managerPinNew2,
  #customerId {
    font-size: 16px;
  }

  .cartItem {
    grid-template-columns: 1fr auto;
    align-items: start;
    gap: 10px;
  }

  .cartItem .title {
    grid-column: 1 / span 2;
  }

  .cartItem .small {
    margin-top: 3px;
    grid-column: 1 / span 2;
  }

  .qty {
    grid-column: 1;
  }

  .qty button {
    width: 34px;
    height: 34px;
    font-size: 16px;
  }

  .qty .n {
    width: 34px;
    font-size: 14px;
  }

  .remove {
    width: 100%;
    max-width: 72px;
    min-height: 34px;
    align-self: end;
    justify-self: end;
  }

  #payBtn {
    min-height: 58px;
    font-size: 18px;
  }

  #receiptBtn {
    min-height: 48px;
  }

  .quickGrid,
  .quickGridSecond,
  .twoCols,
  .custCreateGrid {
    gap: 10px;
  }
}
